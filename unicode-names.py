#!/usr/bin/env python3

import unicodedata

from pithy.io import *


# https://en.wikipedia.org/wiki/Plane_(Unicode)#Supplementary_Special-purpose_Plane

ranges = [
  # plane 0.
  (0x0000, 0x0FFF),
  (0x1000, 0x1FFF),
  (0x2000, 0x2FFF),
  (0x3000, 0x3FFF),
  (0x4000, 0x4FFF),
  (0x5000, 0x5FFF),
  (0x6000, 0x6FFF),
  (0x7000, 0x7FFF),
  (0x8000, 0x8FFF),
  (0x9000, 0x9FFF),
  (0xA000, 0xAFFF),
  (0xB000, 0xBFFF),
  (0xC000, 0xCFFF),
  (0xD000, 0xDFFF),
  (0xE000, 0xEFFF),
  (0xF000, 0xFFFF),

  # plane 1.
  (0x10000, 0x10FFF),
  (0x11000, 0x11FFF),
  (0x12000, 0x12FFF),
  (0x13000, 0x13FFF),
  (0x14000, 0x14FFF),
  (0x16000, 0x16FFF),
  (0x1B000, 0x1BFFF),
  (0x1D000, 0x1DFFF),
  (0x1E000, 0x1EFFF),
  (0x1F000, 0x1FFFF),

  # plane 2: Supplementary Ideographic Plane (SIP); CJK Ideographs.
  (0x20000, 0x20FFF),
  (0x21000, 0x21FFF),
  (0x22000, 0x22FFF),
  (0x23000, 0x23FFF),
  (0x24000, 0x24FFF),
  (0x25000, 0x25FFF),
  (0x26000, 0x26FFF),
  (0x27000, 0x27FFF),
  (0x28000, 0x28FFF),
  (0x29000, 0x29FFF),
  (0x2A000, 0x2AFFF),
  (0x2B000, 0x2BFFF),
  (0x2C000, 0x2CFFF),
  (0x2F000, 0x2FFFF),
]

#words_to_infos = defaultdict(set)

query = set(word.upper() for word in argv[1:])

for s, e in ranges:
  if s >= 0x20000: break # ignore SIP.
  for code_point in range(s, e):
    c = chr(code_point)
    name = unicodedata.name(c, '')
    if not name:
      continue
    assert name.isupper()
    words = name.split()

    if set(words).issuperset(query):
      errL(f'\\u{ord(c):04X} = {c!r} # {name}.')

    #for word in words:
    #  words_to_infos[word].add((c, name))
